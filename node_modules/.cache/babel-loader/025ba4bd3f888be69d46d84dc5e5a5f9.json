{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\laure\\\\Desktop\\\\Hackathon_2\\\\2ndHackathon\\\\src\\\\contexts\\\\BudgetsContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport { v4 as uuidV4 } from \"uuid\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BudgetsContext = /*#__PURE__*/React.createContext();\nexport const UNCATEGORIZED_BUDGET_ID = \"Uncategorized\";\nexport function useBudgets() {\n  _s();\n\n  return useContext(BudgetsContext);\n} //App wrapped in Budget Provider\n//budget and expenses keys in local storage\n\n_s(useBudgets, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport const BudgetsProvider = _ref => {\n  _s2();\n\n  let {\n    children\n  } = _ref;\n  const [budgets, setBudgets] = useLocalStorage(\"budgets\", []);\n  const [expenses, setExpenses] = useLocalStorage(\"expenses\", []); //function that gets expenses via id\n\n  function getBudgetExpenses(budgetId) {\n    return expenses.filter(expense => expense.budgetId === budgetId);\n  } //function that adds an expense to current expenses and sets a unique id using uuidV4\n\n\n  function addExpense(_ref2) {\n    let {\n      description,\n      amount,\n      budgetId\n    } = _ref2;\n    setExpenses(prevExpenses => {\n      return [...prevExpenses, {\n        id: uuidV4(),\n        description,\n        amount,\n        budgetId\n      }];\n    });\n  } //function that adds a budget with a unique id using uuidV4\n  //if budget name already exists, function returns previous budget\n\n\n  function addBudget(_ref3) {\n    let {\n      name,\n      max\n    } = _ref3;\n    setBudgets(prevBudgets => {\n      if (prevBudgets.find(budget => budget.name === name)) {\n        return prevBudgets;\n      }\n\n      return [...prevBudgets, {\n        id: uuidV4(),\n        name,\n        max\n      }];\n    });\n  } //\n\n\n  function deleteBudget(_ref4) {\n    let {\n      id\n    } = _ref4;\n    setExpenses(prevExpenses => {\n      return prevExpenses.map(expense => {\n        if (expense.budgetId !== id) return expense;\n        return { ...expense,\n          budgetId: UNCATEGORIZED_BUDGET_ID\n        };\n      });\n    }); //\n\n    setBudgets(prevBudgets => {\n      return prevBudgets.filter(budget => budget.id !== id);\n    });\n  } //function that deletes expense\n\n\n  function deleteExpense(_ref5) {\n    let {\n      id\n    } = _ref5;\n    setExpenses(prevExpenses => {\n      return prevExpenses.filter(expense => expense.id !== id);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(BudgetsContext.Provider, {\n    value: {\n      budgets,\n      expenses,\n      getBudgetExpenses,\n      addExpense,\n      addBudget,\n      deleteBudget,\n      deleteExpense\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(BudgetsProvider, \"J7E4d7guQZ/gp2cZLJi5v6QwLyA=\", false, function () {\n  return [useLocalStorage, useLocalStorage];\n});\n\n_c = BudgetsProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"BudgetsProvider\");","map":{"version":3,"sources":["C:/Users/laure/Desktop/Hackathon_2/2ndHackathon/src/contexts/BudgetsContext.js"],"names":["React","useContext","useState","v4","uuidV4","useLocalStorage","BudgetsContext","createContext","UNCATEGORIZED_BUDGET_ID","useBudgets","BudgetsProvider","children","budgets","setBudgets","expenses","setExpenses","getBudgetExpenses","budgetId","filter","expense","addExpense","description","amount","prevExpenses","id","addBudget","name","max","prevBudgets","find","budget","deleteBudget","map","deleteExpense"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\"\r\nimport { v4 as uuidV4 } from \"uuid\"\r\nimport useLocalStorage from \"../hooks/useLocalStorage\"\r\n\r\nconst BudgetsContext = React.createContext()\r\n\r\nexport const UNCATEGORIZED_BUDGET_ID = \"Uncategorized\"\r\n\r\nexport function useBudgets() {\r\n  return useContext(BudgetsContext)\r\n}\r\n//App wrapped in Budget Provider\r\n//budget and expenses keys in local storage\r\nexport const BudgetsProvider = ({ children }) => {\r\n  const [budgets, setBudgets] = useLocalStorage(\"budgets\", [])\r\n  const [expenses, setExpenses] = useLocalStorage(\"expenses\", [])\r\n  \r\n  //function that gets expenses via id\r\n  function getBudgetExpenses(budgetId) {\r\n    return expenses.filter(expense => expense.budgetId === budgetId)\r\n  }\r\n  //function that adds an expense to current expenses and sets a unique id using uuidV4\r\n  function addExpense({ description, amount, budgetId }) {\r\n    setExpenses(prevExpenses => {\r\n      return [...prevExpenses, { id: uuidV4(), description, amount, budgetId }]\r\n    })\r\n  }\r\n  //function that adds a budget with a unique id using uuidV4\r\n  //if budget name already exists, function returns previous budget\r\n  function addBudget({ name, max }) {\r\n    setBudgets(prevBudgets => {\r\n      if (prevBudgets.find(budget => budget.name === name)) {\r\n        return prevBudgets\r\n      }\r\n      return [...prevBudgets, { id: uuidV4(), name, max }]\r\n    })\r\n  }\r\n  //\r\n  function deleteBudget({ id }) {\r\n    setExpenses(prevExpenses => {\r\n      return prevExpenses.map(expense => {\r\n        if (expense.budgetId !== id) return expense\r\n        return { ...expense, budgetId: UNCATEGORIZED_BUDGET_ID }\r\n      })\r\n    })\r\n    //\r\n    setBudgets(prevBudgets => {\r\n      return prevBudgets.filter(budget => budget.id !== id)\r\n    })\r\n  }\r\n  //function that deletes expense\r\n  function deleteExpense({ id }) {\r\n    setExpenses(prevExpenses => {\r\n      return prevExpenses.filter(expense => expense.id !== id)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <BudgetsContext.Provider\r\n      value={{\r\n        budgets,\r\n        expenses,\r\n        getBudgetExpenses,\r\n        addExpense,\r\n        addBudget,\r\n        deleteBudget,\r\n        deleteExpense,\r\n      }}\r\n    >\r\n      {children}\r\n    </BudgetsContext.Provider>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}